<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <style>
      body {
        font-family: Arial;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 80px;
      }
      input { padding: 10px; margin: 6px; width: 200px; }
      button { padding: 10px 20px; cursor: pointer; }
    </style>
  </head>

  <body>
    <h2>Ingreso al Panel</h2>
    <input id="user" placeholder="Usuario">
    <input id="pass" type="password" placeholder="ContraseÃ±a">

    <button onclick="ingresar()">Entrar</button>

    <p id="msg" style="color:red"></p>

    <script>
      function ingresar() {
        const user = document.getElementById("user").value;
        const pass = document.getElementById("pass").value;

        google.script.run
          .withSuccessHandler(function(res) {
            if (res.success) {
              window.location = "?panel=" + res.negocio_id;
            } else {
              document.getElementById("msg").innerText = "Datos incorrectos";
            }
          })
          .login(user, pass);
      }
    </script>
  </body>
</html>
